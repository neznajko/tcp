################################################################ 来
################################################################
#######################      ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,, く( ku )
#######################      ::::::::::::::::::::::::::::::::::: る( ru )
#############                           ````````````````````````
#############                           ,,,,,,,,,,,,,,,,,,,,,,,,
#######################      ###################################
##############     ####      ####     ##########################
###############     ###      ###     ###########################
#######################      ###################################
#############        ,        .         ################### come e
#############      ,` `,    .` `.       ########################
#################,`    ,`  `.    `.###################### прийти u
###############,`    ,`      `.    `.###########################
#############,`    ,`##      ##`.    `.################### venir s
###########,`    ,`####      ####`.    `.#######################
############`, ,`######      ######`. .`################# venire i
##############`######################`##########################
########################################################## viens f
################################################################
######################################################### kommen g
import socket
import random
################################################################
host = ''
port = 3000
################################################################
# usage:
# term1: $ python3 02-simple-udp-server.py
# term2: $ netcat -u localhost 3000
#        10
#        Random number [1-10]: 10
#        mua_haHa
#        Random number [1-8]: 1
#        ...
################################################################
server = socket.socket( socket.AF_INET, socket.SOCK_DGRAM )
################################################################
server.bind(( host, port ))
################################################################
BUFSIZ = 4096
################################################################
while True:
    dat, addr_info = server.recvfrom( BUFSIZ )
    try:    m = int( dat.decode())
    except: m = 8
    print( m, addr_info )
    msg = f"Random number[ 1-{m} ]: { random.randint( 1, m )}\n"
    server.sendto( msg.encode(), addr_info )
################################################################
# log:
